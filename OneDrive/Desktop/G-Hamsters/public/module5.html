<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Модуль: Вступ до Тривимірної Графіки та Афінних Перетворень</title>
    <!-- Уявімо, що у вас є ці файли стилів -->
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/module.css" />
    <style>
     
      .ai-prompt-container { border: 1px dashed #ccc; padding: 10px; margin: 15px 0; background-color: #f9f9f9; text-align: center; }
      .ai-prompt-container img { display: block; margin: 0 auto 10px auto; max-width: 80%; max-height: 400px; border: 1px solid #eee; }
      .ai-prompt-caption { font-style: italic; font-size: 0.9em; color: #555; text-align: center; }
      .placeholder-text { font-weight: bold; color: #d9534f; text-align: center; margin-top: 5px; font-size: 0.9em; }
      .formula { font-family: "Courier New", Courier, monospace; background-color: #e0e0e0; padding: 2px 5px; border-radius: 3px; display: inline-block; }
      .formula-block { font-family: "Courier New", Courier, monospace; background-color: #e0e0e0; padding: 10px; border-radius: 4px; display: block; margin: 10px 0; white-space: pre-wrap; overflow-x: auto; }
      .matrix-table { border-collapse: collapse; margin: 10px auto; font-family: "Courier New", Courier, monospace; background-color: #e0e0e0; padding: 5px; border-radius: 4px;}
      .matrix-table td { border: none; padding: 2px 5px; text-align: center; }
      .matrix-table td.bracket-left { border-left: 2px solid black; border-top: 2px solid black; border-bottom: 2px solid black; border-right: none; width: 5px;}
      .matrix-table td.bracket-right { border-right: 2px solid black; border-top: 2px solid black; border-bottom: 2px solid black; border-left: none; width: 5px;}
      
      hr { border: 0; height: 1px; background: #ddd; margin: 30px 0; }
      code { background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px; font-family: "Courier New", Courier, monospace; }
    </style>
</head>
<body>
    <!-- <div id="header-placeholder"></div> -->

    <div class="module-wraper">
        <h3>
            <img class="module-icon" src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2F42d14fd3-08aa-43d3-a512-f915b5dbefdf.png?alt=media&token=14e2fa7f-b42c-415e-84a0-1a121dbb450d" /> <!-- ЗАМІНІТЬ URL ІКОНКИ -->
            Модуль 5: Вступ до тривимірної графіки та афінних Перетворень
        </h3>

        <section class="module-section">
            <p class="module-text">
                Ласкаво просимо до світу тривимірної графіки! У цьому модулі ми дослідимо основи 3D-графіки, її ключові концепції, етапи створення тривимірних сцен та технології візуалізації. Також ми заглибимося в математичні основи рухомих зображень – афінні перетворення, їх матричне представлення та використання однорідних координат.
            </p>
        </section>

        <section class="module-section">
            <h4>Розділ 1: Основи Тривимірної Графіки</h4>
            
            <h5>1.1. Що таке 3D-графіка?</h5>
            <p class="module-text">Термін "3D-графіка" може мати два основних трактування:</p>
            <ol>
                <li class="module-text"><strong>Симуляція тривимірності на плоских об'єктах:</strong> Традиційне розуміння, де об'ємні об'єкти зображуються на двовимірній площині (екран, папір).</li>
                <li class="module-text"><strong>Відображення 3D-об'єктів на 3D-пристроях:</strong> Сучасний підхід, що розвивається з появою 3D-дисплеїв, віртуальної (VR) та доповненої (AR) реальностей, де зображення сприймається об'ємно.</li>
            </ol>
            <p class="module-text"><strong>Тривимірна графіка (3D графіка, 3 Dimensions)</strong> – це розділ комп'ютерної графіки, який займається створенням та маніпулюванням зображеннями об'ємних об'єктів.</p>
            
            <!-- ВСТАВИТИ ФОТО 1 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Fhsifd.jpg?alt=media&token=4033094a-25ee-4c20-8430-b75913d9c5bb" alt="Приклади застосування 3D-графіки">
            </div>

            <p class="module-text"><strong>Сфери застосування:</strong> 3D-графіка широко використовується в:</p>
            <ul>
                <li class="module-text">Кінематографі (спецефекти, анімація)</li>
                <li class="module-text">Архітектурі та дизайні інтер'єрів (візуалізації проектів)</li>
                <li class="module-text">Комп'ютерних іграх</li>
                <li class="module-text">Поліграфії (створення об'ємних ілюстрацій)</li>
                <li class="module-text">Науці (візуалізація даних, моделювання)</li>
                <li class="module-text">Промисловості (проектування, прототипування)</li>
            </ul>
            <p class="module-text">З розвитком технологій, таких як голографічні дисплеї, поняття 3D-графіки розширюється, дозволяючи створювати справді об'ємні зображення.</p>

            <p class="module-text"><strong>Основна відмінність від 2D-графіки:</strong></p>
            <p class="module-text">
                Головна відмінність полягає в тому, що 3D-графіка описує та представляє зображення в трьох просторових вимірах (ширина, висота, глибина). Надалі ця тривимірна модель зазвичай перетворюється (проектується) на двовимірну площину для виведення на екран або папір.
            </p>
            <p class="module-text"><strong>Взаємозв'язок 3D та 2D графіки:</strong></p>
            <p class="module-text">
                3D і 2D графіка тісно пов'язані. Тривимірна графіка часто використовує алгоритми 2D векторної (для опису контурів, шляхів) та 2D растрової графіки (для текстур, фонів).
            </p>
            <p class="module-text"><strong>Представлення 3D-об'єктів:</strong></p>
            <p class="module-text">У тривимірній комп'ютерній графіці об'єкти зазвичай представляються як набір поверхонь або частинок.</p>
            <ul>
                <li class="module-text"><strong>Полігон:</strong> Мінімальна поверхня, що використовується для побудови 3D-моделей. Найчастіше в якості полігону обирають <strong>трикутники</strong>, оскільки будь-яку складну поверхню можна апроксимувати (наблизити) набором трикутників.</li>
            </ul>

            <!-- ВСТАВИТИ ФОТО 2 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Ftrinsad.jpg?alt=media&token=3cf3c61b-2936-469e-a5d6-528655291d0e" alt="Полігональна сітка">
            </div>

            <p class="module-text">Для побудови простого 3D-об'єкта часто достатньо мати уявлення про його вигляд спереду (лицевий), збоку та зверху (проекції).</p>
        </section>

        <section class="module-section">
            <h5>1.2. Етапи створення реалістичних 3D-зображень</h5>
            <p class="module-text">3D-графіка призначена для імітації тривимірних образів об'єктів. Цей процес відбувається в пам'яті комп'ютера в такій послідовності:</p>
            <ol>
                <li class="module-text"><strong>Попередня підготовка:</strong> Продумування концепції, сюжету, складу сцени.</li>
                <li class="module-text"><strong>Створення геометричної моделі сцени (моделювання):</strong> Формування тривимірних об'єктів.</li>
                <li class="module-text"><strong>Налаштування освітлення і знімальних камер:</strong> Розміщення джерел світла та віртуальних камер.</li>
                <li class="module-text"><strong>Підготовка і призначення матеріалів (текстурування):</strong> Надання об'єктам візуальних властивостей.</li>
                <li class="module-text"><strong>Візуалізація сцени (рендеринг):</strong> Обчислення фінального зображення.</li>
            </ol>
            <p class="module-text">Таким чином створюється уявний, або <strong>віртуальний світ</strong>.</p>

            <p class="module-text"><strong>Сцена у 3D-графіці:</strong></p>
            <p class="module-text">Тривимірна графіка використовує віртуальний простір, який називають <strong>сценою</strong>. У цьому просторі дизайнер розміщує:</p>
            <ul>
                <li class="module-text"><strong>Геометричні об'єкти:</strong> Моделі будинків, персонажів, предметів тощо.</li>
                <li class="module-text"><strong>Матеріали:</strong> Властивості поверхонь об'єктів (колір, блиск, прозорість, текстура дерева, металу, скла).</li>
                <li class="module-text"><strong>Джерела світла:</strong> Визначають освітленість сцени, тіні, відблиски.</li>
                <li class="module-text"><strong>Віртуальні камери:</strong> Визначають точку та кут огляду сцени, з якого буде побудовано фінальне зображення.</li>
                <li class="module-text"><strong>Сили та дії (для анімації):</strong> Налаштування динамічних змін об'єктів (гравітація, вітер, зіткнення).</li>
                <li class="module-text"><strong>Додаткові ефекти:</strong> Імітація атмосферних явищ (туман, хмари, вогонь).</li>
            </ul>
            <p class="module-text"><strong>Завдання тривимірного моделювання</strong> — описати ці об'єкти і розмістити їх у сцені за допомогою геометричних перетворень відповідно до вимог майбутнього зображення.</p>
            <p class="module-text"><strong>Рендеринг (візуалізація):</strong></p>
            <p class="module-text">Процес побудови геометричної проекції тривимірної моделі на площину екрана. На цьому етапі математична (векторна) просторова модель перетворюється на плоску (растрову) картинку.</p>

            <!-- ВСТАВИТИ ФОТО 3 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Ffddf.png?alt=media&token=c70fa5c3-7f78-4e2c-9c29-b6d2041e0616" alt="Етапи створення 3D-зображення">
            </div>

            <p class="module-text">Розглянемо етапи детальніше:</p>
            <ol>
                <li>
                    <p class="module-text"><strong>Попередня підготовка:</strong></p>
                    <ul>
                        <li class="module-text">Продумування складу сцени, розміщення об’єктів та деталей, видимих з передбачуваних ракурсів.</li>
                        <li class="module-text">Складання вмісту сцени, бажано на основі ескізу.</li>
                    </ul>
                </li>
                <li>
                    <p class="module-text"><strong>Створення геометричної моделі сцени:</strong></p>
                    <ul>
                        <li class="module-text">Формалізований опис тривимірної моделі об'єктів (ширина, довжина, висота).</li>
                        <li class="module-text">Об'єкти розташовуються у тривимірному просторі, можуть бути вкладені один в одного.</li>
                        <li class="module-text">Набір інструментів для цього називається <strong>геометричним конструктором сцен</strong>.</li>
                        <li class="module-text">Після створення геометричної моделі, сцену можна розглядати з будь-якого ракурсу.</li>
                    </ul>
                </li>
                <li>
                    <p class="module-text"><strong>Робота над композицією: світло та камери:</strong></p>
                    <ul>
                        <li class="module-text">Налаштування моделей джерел освітлення та розстановка знімальних камер.</li>
                        <li class="module-text">Правильний вибір джерел світла дозволяє імітувати фотографування сцени в різних умовах освітленості.</li>
                        <li class="module-text">Освітленість, тіні, відблиски розраховуються автоматично.</li>
                        <li class="module-text">Моделі знімальних камер дозволяють розглядати та "знімати" сцену під будь-яким кутом зору.</li>
                    </ul>
                </li>
                <li>
                    <p class="module-text"><strong>Підготовка та призначення матеріалів:</strong></p>
                    <ul>
                        <li class="module-text">Надання сцені візуальної правдоподібності, наближення якості зображення до реальної фотографії.</li>
                        <li class="module-text">Налаштування характеристик матеріалів: сила блиску, прозорість, дзеркальність, рельєфність тощо.</li>
                        <li class="module-text">Можливість використання реальних фотографій як текстур або фонів.</li>
                        <li class="module-text">Існують інструменти для створення нових матеріалів або використання готових з бібліотек.</li>
                    </ul>
                </li>
                <li>
                    <p class="module-text"><strong>Візуалізація сцени (Рендеринг):</strong></p>
                    <ul>
                        <li class="module-text">Проведення програмою обчислень та нанесення на зображення всіх тіней, відблисків, взаємних віддзеркалень об’єктів.</li>
                        <li class="module-text">Час візуалізації залежить від складності сцени та потужності комп'ютера.</li>
                    </ul>
                </li>
            </ol>
            <p class="module-text">Отже, для отримання тривимірного зображення потрібно виконати два глобальні етапи:</p>
            <ul>
                <li class="module-text"><strong>Моделювання:</strong> Створення математичної моделі сцени та об'єктів у ній (охоплює пункти 2, 3, 4 попереднього списку).</li>
                <li class="module-text"><strong>Рендеринг:</strong> Побудова проекції відповідно до вибраної фізичної моделі (пункт 5).</li>
            </ul>
        </section>

        <section class="module-section">
            <h5>1.3. Технології Рендерингу</h5>
            <p class="module-text">Існує декілька технологій візуалізації, які часто комбінуються:</p>
            <ul>
                <li class="module-text"><strong>Z-буфер (Z-buffering):</strong>
                    <ul>
                        <li class="module-text">Алгоритм для визначення видимості об'єктів, спираючись на глибину елементів зображення (Z-координату).</li>
                        <li class="module-text">Використовується в графічних API, таких як OpenGL та DirectX.</li>
                        <li class="module-text">Z-буфер – це двомірний масив, що зберігає значення глибини для кожного пікселя екрана.</li>
                        <li class="module-text">При відображенні нового об'єкта, його глибина порівнюється зі значенням у Z-буфері. Якщо новий об'єкт ближче до спостерігача, піксель перезаписується, і нове значення глибини зберігається.</li>
                        <li class="module-text">Дозволяє коректно відображати об'єкти, розташовані на різних відстанях.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Сканлайн (Scanline rendering / Ray casting):</strong>
                    <ul>
                        <li class="module-text">Спрощений алгоритм зворотного трасування променів.</li>
                        <li class="module-text">Розрахунок кольору кожного пікселя картинки шляхом "кидання" променя з точки зору спостерігача через цей піксель у сцену до перетину з першою поверхнею.</li>
                        <li class="module-text">Колір пікселя приймається рівним кольору цієї першої поверхні.</li>
                        <li class="module-text">Не відбувається подальша обробка відбитих чи заломлених променів.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Трасування променів (Ray tracing / Рейтрейсинг):</strong>
                    <ul>
                        <li class="module-text">Подібний до сканлайну, але колір пікселя уточнюється за рахунок побудови додаткових променів від точки перетину (відбитих, заломлених, тіньових).</li>
                        <li class="module-text">Ідея: простежити хід променя від ока глядача крізь кожен піксель екрана та обчислити колір об'єкта.</li>
                        <li class="module-text">Дозволяє створювати більш реалістичні відображення, заломлення та тіні.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Глобальне освітлення (Global Illumination):</strong>
                    <ul>
                        <li class="module-text">Розрахунок взаємодії поверхонь та середовищ у видимому спектрі випромінювання.</li>
                        <li class="module-text">Враховує не лише пряме світло від джерел, але й світло, відбите від інших поверхонь сцени (непряме освітлення).</li>
                        <li class="module-text">Дозволяє досягти найвищого рівня реалізму, імітуючи поширення світла в реальному світі.</li>
                    </ul>
                </li>
            </ul>

            <!-- ВСТАВИТИ ФОТО 4 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Fdsdfdf.png?alt=media&token=20b95b79-df8b-46ee-a85a-e272225c6abc" alt="Порівняння технологій рендерингу">
            </div>

            <p class="module-text"><strong>Чи не простіше сфотографувати реальну сцену?</strong></p>
            <p class="module-text">Іноді так. Однак існують випадки, коли використання тривимірної графіки є єдиним або значно ефективнішим засобом:</p>
            <ul>
                <li class="module-text">Створення об'єктів, що не існують в реальності (фантастичні світи, персонажі).</li>
                <li class="module-text">Візуалізація небезпечних або недоступних процесів (внутрішня будова двигуна, космос).</li>
                <li class="module-text">Проектування та внесення змін до того, як об'єкт буде фізично створений.</li>
                <li class="module-text">Економічна ефективність порівняно з побудовою складних декорацій або поїздками у віддалені місця.</li>
            </ul>
        </section>

        <section class="module-section">
            <h5>1.4. Області застосування та формати файлів 3D-графіки</h5>
            <p class="module-text"><strong>Області застосування:</strong></p>
            <ul>
                <li class="module-text"><strong>Комп'ютерне проектування (CAD/CAM/CAE):</strong>
                    <ul>
                        <li class="module-text">Проектування інтер'єрів.</li>
                        <li class="module-text">Вбудовування віртуальних об'єктів у реальні фотографії (і навпаки).</li>
                        <li class="module-text">Візуалізація складних деталей, автомобілів, літаків.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Комп'ютерні ігри:</strong> Одна з найпопулярніших сфер.</li>
                <li class="module-text"><strong>Комбіновані зйомки в кіно та рекламі:</strong> Створення спецефектів, нереальних світів.</li>
                <li class="module-text"><strong>Наукова візуалізація та освіта.</strong></li>
                <li class="module-text"><strong>Медицина:</strong> Моделювання органів, планування операцій.</li>
            </ul>
            <p class="module-text"><strong>Формати файлів 3D-графіки:</strong></p>
            <p class="module-text">Існує багато форматів, деякі з них:</p>
            <ul>
                <li class="module-text"><strong>VRML (Virtual Reality Modeling Language):</strong> Мова для опису тривимірних зображень, оперує об'єктами та їх розташуванням. Створена для використання в Інтернеті. Файли мають розширення <code>.wrl</code> (текстовий файл зі списком вузлів).</li>
                <li class="module-text"><strong>3DS:</strong> Формат файлу пакету 3D Studio MAX, зберігає 3D-моделі (каркасні сітки), текстури, ефекти.</li>
                <li class="module-text"><strong>MAX:</strong> Інший "рідний" формат 3D Studio MAX.</li>
                <li class="module-text"><strong>X:</strong> Формат DirectX, структурно- та контекстно-незалежний.</li>
                <li class="module-text">Інші популярні формати: <code>.obj</code>, <code>.fbx</code>, <code>.blend</code>, <code>.stl</code>.</li>
            </ul>
            <p class="module-text"><strong>Програмні пакети для створення 3D-графіки (3D-редактори):</strong></p>
            <ul>
                <li class="module-text">Autodesk 3ds Max</li>
                <li class="module-text">Autodesk Maya</li>
                <li class="module-text">Autodesk Softimage (розвиток припинено, але мав вплив)</li>
                <li class="module-text">Blender (безкоштовний, з відкритим кодом)</li>
                <li class="module-text">Cinema 4D</li>
                <li class="module-text">ZBrush (скульптинг)</li>
            </ul>
        </section>

        <section class="module-section">
            <h5>1.5. Доповнена та Віртуальна Реальність</h5>
            <ul>
                <li class="module-text"><strong>Доповнена реальність (Augmented Reality, AR):</strong>
                    <ul>
                        <li class="module-text">Доповнення фізичного світу цифровими даними (графіка, звуки) в режимі реального часу за допомогою пристроїв (смартфони, AR-окуляри).</li>
                        <li class="module-text">Віртуальна інформація накладається на реальне оточення.</li>
                        <li class="module-text"><strong>Технології AR:</strong> на основі маркерів, безмаркерна, на основі проекції, на основі VIO (візуальна інерціальна одометрія).</li>
                        <li class="module-text"><strong>Загальна схема роботи AR:</strong> Камера знімає реальний об'єкт -> ПЗ ідентифікує зображення та доповнює його -> Поєднане зображення виводиться на екран.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Віртуальна реальність (Virtual Reality, VR):</strong>
                    <ul>
                        <li class="module-text">Вимагає повного занурення користувача у віртуальне середовище, зазвичай за допомогою VR-шоломів, що блокують реальний світ.</li>
                    </ul>
                </li>
                <li class="module-text"><strong>Змішана реальність (Mixed Reality, MR):</strong>
                    <ul>
                        <li class="module-text">Проектування тривимірних віртуальних об’єктів (голограм) на фізичний простір.</li>
                        <li class="module-text">Дозволяє взаємодіяти з віртуальними об'єктами так, ніби вони є частиною реального світу.</li>
                        <li class="module-text">Вимагає спеціального обладнання (MR-окуляри/шоломи, наприклад, Microsoft HoloLens).</li>
                    </ul>
                </li>
            </ul>

            <!-- ВСТАВИТИ ФОТО 5 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Fvr.png?alt=media&token=cad64419-d2e1-49de-9f89-a43fb468dff5" alt="Порівняння VR, AR, MR">
                
                <p class="ai-prompt-caption">(Підпис під фото: Порівняння Віртуальної (VR), Доповненої (AR) та Змішаної (MR) реальностей)</p>
            </div>
        </section>

        <hr />

        <section class="module-section">
            <h4>Розділ 2: Афінні Перетворення в Комп'ютерній Графіці</h4>
            <p class="module-text">
                Рух об'єкта в комп'ютерній графіці (КГ) трактується як зміна його просторового положення в часі. Математичною основою для створення рухомих зображень є <strong>афінні перетворення</strong>.
            </p>
            
            <h5>2.1. Визначення перетворень координат</h5>
            <p class="module-text">
                Нехай є n-мірна система координат, що описує положення точки. Якщо створити іншу N-вимірну систему координат, то перехід від однієї системи до іншої можна описати функціями перетворення.
            </p>
            <ul>
                <li class="module-text"><strong>Пряме перетворення:</strong> <span class="formula">m_i = f_i(k_1, k_2, ..., k_n)</span></li>
                <li class="module-text"><strong>Зворотне перетворення:</strong> <span class="formula">k_i = F_i(m_1, m_2, ..., m_N)</span></li>
            </ul>
            <p class="module-text">Однозначне перетворення можливе, якщо розмірності систем співпадають (n=N) та функції задовольняють певним умовам.</p>
            
            <h5>2.2. Лінійні та Афінні Перетворення</h5>
            <ul>
                <li class="module-text"><strong>Лінійні перетворення:</strong> Функції перетворення <span class="formula">f_i</span> є лінійними відносно аргументів.
                    <br><span class="formula">m_i = a_{i,1}k_1 + a_{i,2}k_2 + ... + a_{i,n}k_n + a_{i, n+1}</span>
                </li>
                <li class="module-text"><strong>Афінні перетворення:</strong> Лінійні перетворення, при яких розмірності просторів співпадають (n=N).</li>
            </ul>
            <p class="module-text"><strong>Властивості афінних перетворень:</strong></p>
            <ul>
                <li class="module-text">n-вимірний об’єкт відображається в n-вимірний (точка в точку, лінія в лінію тощо).</li>
                <li class="module-text">Зберігається паралельність ліній і площин.</li>
                <li class="module-text">Зберігаються пропорції паралельних об’єктів.</li>
            </ul>
            <p class="module-text">Ці властивості дозволяють будувати складні об'єкти за їх вершинами.</p>

            <h5>2.3. Основні Афінні Перетворення для Рухомих Зображень</h5>
            <p class="module-text">Три основні види афінних перетворень, що є основою для рухомих зображень:</p>
            <ol>
                <li class="module-text"><strong>Переміщення/Зсув (Translation)</strong></li>
                <li class="module-text"><strong>Масштабування (Scaling)</strong> (збільшення/зменшення)</li>
                <li class="module-text"><strong>Поворот (Rotation)</strong> на кут</li>
            </ol>
            <p class="module-text">Ці перетворення можуть застосовуватися як до об'єкта, так і до системи координат (зворотні операції).</p>
            
            <p class="module-text"><strong>1. Переміщення/Зсув:</strong></p>
            <ul>
                <li class="module-text"><strong>Зсув об'єкта</strong> на вектор (m, n):
                    <pre class="formula-block"><code>x′ = x + m
y′ = y + n</code></pre>
                </li>
                <li class="module-text"><strong>Зсув системи координат</strong> на вектор (m, n):
                    <pre class="formula-block"><code>x′ = x – m
y′ = y – n</code></pre>
                </li>
            </ul>

            <p class="module-text"><strong>2. Масштабування:</strong></p>
            <ul>
                <li class="module-text"><strong>Масштабування об'єкта</strong> (розтяг/стиск) вздовж осей відносно початку координат:
                    <pre class="formula-block"><code>x′ = a·x
y′ = d·y</code></pre>
                    (Якщо <span class="formula">a = d</span> – пропорційне, <span class="formula">a ≠ d</span> – непропорційне. Якщо <span class="formula">a=d > 1</span> – збільшення, <span class="formula">a=d < 1</span> – стиск.)
                    <br>Дзеркальне відображення: <span class="formula">a=1, d=-1</span> (відносно осі X), <span class="formula">a=-1, d=1</span> (відносно осі Y).
                </li>
                <li class="module-text"><strong>Масштабування системи координат:</strong> (зміна одиничних відрізків). Формули аналогічні, але коефіцієнти <span class="formula">a</span> та <span class="formula">d</span> є оберненими до значень нових одиничних відрізків.</li>
            </ul>

            <p class="module-text"><strong>3. Поворот:</strong></p>
            <ul>
                <li class="module-text"><strong>Поворот об'єкта (точки)</strong> відносно початку координат на кут <span class="formula">φ</span> проти годинникової стрілки:
                    <pre class="formula-block"><code>x′ = x·cos(φ) – y·sin(φ)
y′ = x·sin(φ) + y·cos(φ)</code></pre>
                </li>
                <li class="module-text"><strong>Поворот системи координат</strong> на кут <span class="formula">φ</span> проти годинникової стрілки:
                    <pre class="formula-block"><code>x′ = x·cos(φ) + y·sin(φ)
y′ = –x·sin(φ) + y·cos(φ)</code></pre>
                </li>
            </ul>

            <!-- ВСТАВИТИ ФОТО 6 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Fssds.png?alt=media&token=5c438414-1edc-420e-aa01-2d8e990ef14f" alt="Основні афінні перетворення">

            </div>
            <p class="module-text">Довільне афінне відображення можна задати композицією (послідовністю) цих елементарних перетворень.</p>
        </section>

        <hr />

        <section class="module-section">
            <h4>Розділ 3: Матричне Представлення Афінних Перетворень</h4>
            
            <h5>3.1. Матричний Запис та Однорідні Координати</h5>
            <p class="module-text">
                Для ефективності та зручності афінні перетворення записують у матричній формі. Однак стандартний матричний запис лінійних перетворень не дозволяє легко включити операцію зсуву (константи C і F у загальних формулах афінного перетворення).
            </p>
            <p class="module-text"><strong>Однорідні координати:</strong></p>
            <p class="module-text">
                Щоб подолати це обмеження та представити всі афінні перетворення (включаючи зсув) єдиним матричним множенням, вводяться <strong>однорідні координати</strong>.
            </p>
            <ul>
                <li class="module-text">Довільній точці M(x, y) на площині ставиться у відповідність точка M′(x, y, 1) або M′(hx, hy, h), де <span class="formula">h ≠ 0</span> (найчастіше <span class="formula">h=1</span>), у тривимірному просторі.</li>
                <li class="module-text">Фіктивна третя координата (w-координата) дозволяє представити зсув як частину матриці перетворення.</li>
            </ul>
            <p class="module-text"><strong>Переваги однорідних координат:</strong></p>
            <ul>
                <li class="module-text">Можливість описувати операції спеціальними формулами, переходячи до декартових координат лише на етапі виведення.</li>
                <li class="module-text">Зручність для пристроїв, що працюють з цілими координатами (шляхом вибору відповідного <span class="formula">h</span>).</li>
                <li class="module-text">Можливість записувати безмежно віддалені точки.</li>
                <li class="module-text"><strong>Найголовніше:</strong> Задання будь-якого афінного перетворення у вигляді множення матриці координат на матрицю перетворення.
                    <br><span class="formula">P' = P · M</span> (де P, P' – вектори-рядки координат, M – матриця перетворення)
                    <br>або
                    <br><span class="formula">P' = M · P</span> (де P, P' – вектори-стовпці, M – матриця перетворення)
                </li>
            </ul>

            <h5>3.2. Матриці Основних Елементарних Перетворень (для об'єктів, нотація по стовпцях, w=1)</h5>
            <p class="module-text"><strong>1. Матриця перенесення (translation)</strong> точки на вектор (m, n):</p>
            <table class="matrix-table">
                <tr><td class="bracket-left"></td><td>1</td><td>0</td><td>m</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>0</td><td>1</td><td>n</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
            </table>

            <p class="module-text"><strong>2. Матриця масштабування (dilation/scaling)</strong> відносно початку координат з коефіцієнтами <span class="formula">s_x</span> та <span class="formula">s_y</span>:</p>
            <table class="matrix-table">
                <tr><td class="bracket-left"></td><td>s_x</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>0</td><td>s_y</td><td>0</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
            </table>

            <p class="module-text"><strong>3. Матриця повороту (rotation)</strong> точки відносно початку координат на кут <span class="formula">φ</span> проти годинникової стрілки:</p>
            <table class="matrix-table">
                <tr><td class="bracket-left"></td><td>cos(φ)</td><td>-sin(φ)</td><td>0</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>sin(φ)</td><td>cos(φ)</td><td>0</td><td class="bracket-right"></td></tr>
                <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
            </table>
            
            <p class="module-text"><strong>Перетворення системи координат</strong> задаються відповідними <strong>оберненими матрицями</strong> до матриць перетворення об'єкта. Наприклад:</p>
            <ul>
                <li class="module-text">Поворот системи координат на кут <span class="formula">φ</span>: <span class="formula">R(-φ)</span></li>
                <li class="module-text">Зсув системи координат на вектор (m,n): <span class="formula">T(-m, -n)</span></li>
            </ul>

            <h5>3.3. Комбінація Перетворень</h5>
            <p class="module-text">
                Щоб отримати матрицю результату комбінації (послідовності) елементарних перетворень, потрібно перемножити відповідні матриці цих перетворень <strong>у правильному порядку</strong>.
            </p>
            <p class="module-text">
                <strong>Важливо:</strong> Порядок множення матриць має значення, оскільки матричне множення, як правило, не комутативне (<span class="formula">A·B ≠ B·A</span>). Матриця перетворення, що застосовується першим, стоїть правіше (при нотації <span class="formula">P' = M_n · ... · M_2 · M_1 · P</span>).
            </p>
            <p class="module-text"><strong>Приклад: Поворот точки M(x, y) відносно довільної точки N(m, n) на кут <span class="formula">φ</span>:</strong></p>
            <p class="module-text">Це складене перетворення реалізується так:</p>
            <ol>
                <li class="module-text"><strong>Перемістити систему координат так, щоб точка N(m,n) стала початком координат:</strong> Застосувати до об'єкта зсув <span class="formula">T(-m, -n)</span>.
                    <br>Матриця: <span class="formula">T_(-m,-n)</span>
                </li>
                <li class="module-text"><strong>Повернути об'єкт відносно нового початку координат на кут <span class="formula">φ</span>:</strong>
                    <br>Матриця: <span class="formula">R(φ)</span>
                </li>
                <li class="module-text"><strong>Повернути систему координат назад (перемістити об'єкт назад):</strong> Застосувати до об'єкта зсув <span class="formula">T(m, n)</span>.
                    <br>Матриця: <span class="formula">T_(m,n)</span>
                </li>
            </ol>
            <p class="module-text">Результуюча матриця перетворення <span class="formula">M_total = T_(m,n) · R(φ) · T_(-m,-n)</span>.</p>
            <p class="module-text">Координати перетвореної точки: <span class="formula">P' = M_total · P</span>.</p>

            <!-- ВСТАВИТИ ФОТО 7 ТУТ -->
            <div class="ai-prompt-container">
                <img src="https://firebasestorage.googleapis.com/v0/b/noa2-8fefc.appspot.com/o/images_new%2Fsdsdd.png?alt=media&token=8b299cc9-37dc-4fa9-864f-d1d6525abb10" alt="Композиція перетворень">
            </div>

            <p class="module-text"><strong>Матриці дзеркального відображення (відносно осей та початку координат):</strong></p>
            <p class="module-text">Це окремі випадки масштабування, де один або обидва коефіцієнти масштабування дорівнюють -1.</p>
            <ul>
                <li class="module-text">Відносно осі Y (x=0): <span class="formula">s_x = -1, s_y = 1</span>
                    <table class="matrix-table">
                        <tr><td class="bracket-left"></td><td>-1</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>1</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
                    </table>
                </li>
                <li class="module-text">Відносно осі X (y=0): <span class="formula">s_x = 1, s_y = -1</span>
                    <table class="matrix-table">
                        <tr><td class="bracket-left"></td><td>1</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>-1</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
                    </table>
                </li>
                <li class="module-text">Відносно початку координат (0,0): <span class="formula">s_x = -1, s_y = -1</span>
                    <table class="matrix-table">
                        <tr><td class="bracket-left"></td><td>-1</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>-1</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
                    </table>
                </li>
                <li class="module-text">Відносно прямої y=x:
                    <table class="matrix-table">
                        <tr><td class="bracket-left"></td><td>0</td><td>1</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>1</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
                    </table>
                </li>
                <li class="module-text">Відносно прямої y=-x:
                     <table class="matrix-table">
                        <tr><td class="bracket-left"></td><td>0</td><td>-1</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>-1</td><td>0</td><td>0</td><td class="bracket-right"></td></tr>
                        <tr><td class="bracket-left"></td><td>0</td><td>0</td><td>1</td><td class="bracket-right"></td></tr>
                    </table>
                </li>
            </ul>

            <p class="module-text"><strong>Алгоритм знаходження матриці для комбінації перетворень:</strong></p>
            <ol>
                <li class="module-text">Виявити послідовність елементарних перетворень.</li>
                <li class="module-text">Вибрати нотацію (по стовпцях або рядках) і записати матрицю однорідних координат об'єкта.</li>
                <li class="module-text">Записати матриці елементарних перетворень у правильному порядку (залежно від нотації).</li>
                <li class="module-text">Перемножити матриці елементарних перетворень, щоб отримати одну результуючу матрицю.</li>
                <li class="module-text">Сформувати матричний вираз для обчислення координат перетвореного об'єкта.</li>
                <li class="module-text">Виконати множення матриць.</li>
            </ol>
            <p class="module-text"><strong>Обернені перетворення:</strong></p>
            <p class="module-text">
                Матричний запис дозволяє легко знаходити обернені перетворення <span class="formula">A = A′ · M⁻¹</span>. Для деяких перетворень (наприклад, поворот) обернена матриця є транспонованою, що спрощує обчислення.
            </p>
        </section>



        <div class="buttons">
            <button class="back" onclick="redirectToMainPage()">Назад до модулів</button>
            <button onclick="redirectToQuiz('module5')" class="test">Перейти до тесту</button> <!-- Змінив ID модуля для прикладу -->
            <button onclick="markTheoryCompleted('module5')" class="complete-theory">Пройшов теорію</button>
        </div>
    </div>

       <script src="./js/components.js"></script>
    <!-- Переконайтесь, що шлях правильний -->
    <script type="module" src="./js/mainPage.js"></script>
    <!-- Переконайтесь, що шлях правильний -->
</body>
</html>