<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <header>
      <h1>–ö–æ–ª—ñ—Ä–Ω—ñ —Å—Ö–µ–º–∏</h1>
    </header>
    <main>
      <div class="content">
        <div class="canvas-row">
          <canvas id="canvas1" width="450" height="450"></canvas>

          <input type="file" id="imageInput" accept="image/*" />
          <canvas
            id="canvas2"
            width="450"
            height="450"
            style="display: none"
          ></canvas>
        </div>
        <canvas
          id="zoomCanvas"
          width="100"
          height="100"
          style="border: 1px solid red; position: absolute; display: none"
        ></canvas>
        <div
          id="pixelInfo"
          style="
            position: absolute;
            background: #fff;
            padding: 5px;
            border: 1px solid gray;
            display: none;
          "
        ></div>

        <aside class="sidebar">
          <nav class="menu">
            <button class="tab-button active" data-tab="convert">
              –ü–µ—Ä–µ–≤—ñ–¥
            </button>
            <button class="tab-button" data-tab="research">–î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è</button>
            <button class="tab-button" data-tab="attributes">–ê—Ç—Ä–∏–±—É—Ç–∏</button>
            <button class="tab-button" data-tab="modify">–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è</button>
          </nav>

          <div class="tab-content" id="convert">
            <h3>–ü–µ—Ä–µ–≤—ñ–¥ –∑ –æ–¥–Ω–æ—ó –∫–æ–ª—ñ—Ä–Ω–æ—ó —Å—Ö–µ–º–∏ –≤ —ñ–Ω—à—É</h3>
            <label for="fromColor">–ó:</label>
            <select id="fromColor">
              <option selected value="rgb">RGB</option>
              <option value="hsl">HSL</option>
              <option value="cmyk">CMYK</option>
            </select>
            <label for="toColor">–£:</label>
            <select id="toColor">
              <option selected value="rgb">RGB</option>
              <option value="hsl">HSL</option>
              <option value="cmyk">CMYK</option>
            </select>
          </div>

          <div class="tab-content hidden" id="modify">
            <h3>–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—É</h3>

            <div id="hslModFields" class="mod-fields hidden">
              <h4>–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è HSL</h4>
              <label for="hDelta">Hue (h):</label>
              <input
                type="number"
                id="hDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
              <label for="sDelta">Saturation (s):</label>
              <input
                type="number"
                id="sDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
              <label for="lDelta">Lightness (l):</label>
              <input
                type="number"
                id="lDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
            </div>

            <div id="cmykModFields" class="mod-fields hidden">
              <h4>–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è CMYK</h4>
              <label for="cDelta">Cyan (c):</label>
              <input
                type="number"
                id="cDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
              <label for="mDelta">Magenta (m):</label>
              <input
                type="number"
                id="mDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
              <label for="yDelta">Yellow (y):</label>
              <input
                type="number"
                id="yDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
              <label for="kDelta">Black (k):</label>
              <input
                type="number"
                id="kDelta"
                step="0.01"
                min="-1"
                max="1"
                value="0"
              />
            </div>

            <div class="custom-influence">
              <input type="checkbox" id="enableArtificialInfluence" />
              <label for="enableArtificialInfluence"
                >–®—Ç—É—á–Ω–æ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –∞–ª–≥–æ—Ä–∏—Ç–º</label
              >
            </div>

            <button
              id="applyModification"
              disabled
              onclick="convertCanvasModif()"
            >
              –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—é
            </button>

            <p>
              <strong>–©–æ –≤–∏–∫–æ–Ω—É—î:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º –∑–º—ñ–Ω—é—î –∫–æ–ª—ñ—Ä–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
              –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ —á–∏ —Ñ—ñ–ª—å—Ç—Ä–∞.
            </p>
          </div>

          <div class="tab-content hidden" id="research">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤</h3>
            <div class="metrics">
              <div class="metric-row">
                <div class="metric-label">–°–µ—Ä–µ–¥–Ω—ñ–π –∫–æ–ª—ñ—Ä –æ—Ä–∏–≥—ñ–Ω–∞–ª—É:</div>
                <div class="metric-value" id="avgOrig">R=0, G=0, B=0</div>
              </div>
              <div class="metric-desc">
                –ü–æ–∫–∞–∑—É—î —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –∫–∞–Ω–∞–ª—ñ–≤ RGB –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ.
                –î–æ–ø–æ–º–∞–≥–∞—î –æ—Ü—ñ–Ω–∏—Ç–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π —Ç–æ–Ω —Ç–∞ –±–∞–ª–∞–Ω—Å –∫–æ–ª—å–æ—Ä—ñ–≤.
              </div>

              <div class="metric-row">
                <div class="metric-label">–°–µ—Ä–µ–¥–Ω—ñ–π –∫–æ–ª—ñ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ:</div>
                <div class="metric-value" id="avgNew">R=0, G=0, B=0</div>
              </div>
              <div class="metric-desc">
                –í—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–µ—Ä–µ–¥–Ω—ñ–π –∫–æ–ª—ñ—Ä –ø—ñ—Å–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑
                –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º –ø–æ–∫–∞–∑—É—î –∑–º—ñ–Ω–∏ –≤ —Ç–æ–Ω—É.
              </div>

              <div class="metric-row">
                <div class="metric-label">MSE:</div>
                <div class="metric-value" id="mse">0</div>
              </div>
              <div class="metric-desc">
                Mean Squared Error ‚Äî —Å–µ—Ä–µ–¥–Ω—è –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞ –ø–æ—Ö–∏–±–∫–∞ –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º
                —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º. –ß–∏–º –º–µ–Ω—à–µ, —Ç–∏–º –º–µ–Ω—à–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω—å.
              </div>

              <div class="metric-row">
                <div class="metric-label">RMS Error:</div>
                <div class="metric-value" id="rms">0</div>
              </div>
              <div class="metric-desc">
                Root Mean Square Error ‚Äî –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏–π –∫–æ—Ä—ñ–Ω—å MSE. –ü–æ–∫–∞–∑—É—î —Å–µ—Ä–µ–¥–Ω—é
                –ø–æ—Ö–∏–±–∫—É –≤ –æ–¥–∏–Ω–∏—Ü—è—Ö —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—ñ.
              </div>

              <div class="metric-row">
                <div class="metric-label">PSNR:</div>
                <div class="metric-value" id="psnr">0 dB</div>
              </div>
              <div class="metric-desc">
                Peak Signal-to-Noise Ratio ‚Äî –æ—Ü—ñ–Ω–∫–∞ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —Å–∏–≥–Ω–∞–ª/—à—É–º.
                >40‚ÄâdB –æ–∑–Ω–∞—á–∞—î –º–∞–π–∂–µ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è.
              </div>

              <div class="metric-row">
                <div class="metric-label">SSIM:</div>
                <div class="metric-value" id="ssim">0</div>
              </div>
              <div class="metric-desc">
                Structural Similarity Index ‚Äî –≤–∏–º—ñ—Ä—é—î –ø–æ–¥—ñ–±–Ω—ñ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä —Ç–∞
                —è—Å–∫—Ä–∞–≤–æ—Å—Ç—ñ. –ó–Ω–∞—á–µ–Ω–Ω—è –±–ª–∏–∑—å–∫–æ 1 –æ–∑–Ω–∞—á–∞—î –¥—É–∂–µ –≤–∏—Å–æ–∫—É —Å—Ö–æ–∂—ñ—Å—Ç—å.
              </div>

              <div class="metric-row">
                <div class="metric-label">Histogram diff:</div>
                <div class="metric-value" id="histDiff">R=0, G=0, B=0</div>
              </div>
              <div class="metric-desc">
                –°—É–º–∞—Ä–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –≥—ñ—Å—Ç–æ–≥—Ä–∞–º –∫–∞–Ω–∞–ª—ñ–≤ RGB. –í–∏–∑–Ω–∞—á–∞—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏
                –∑–º—ñ–Ω–∏–≤—Å—è —Ä–æ–∑–ø–æ–¥—ñ–ª –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤.
              </div>

              <div class="metric-row">
                <div class="metric-label">–ó–º—ñ–Ω–∏ –≤–∏—è–≤–ª–µ–Ω–æ:</div>
                <div class="metric-value" id="changed">–Ω—ñ</div>
              </div>
              <div class="metric-desc">
                –ü–æ–∫–∞–∑—É—î, —á–∏ –±—É–ª–æ –∑–Ω–∞–π–¥–µ–Ω–æ —Ö–æ—á–∞ –± –æ–¥–Ω—É –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –Ω–∞ —Ä—ñ–≤–Ω—ñ
                –ø—ñ–∫—Å–µ–ª—è –∑–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º Œµ.
              </div>
            </div>
          </div>

          <div class="tab-content hidden" id="attributes">
            <p><strong>–ê—Ç—Ä–∏–±—É—Ç–∏ (HSL):</strong></p>

            <div class="slider-group">
              <label for="hueStart">(Hue) Start:</label>
              <input
                type="range"
                id="hueStart"
                min="0"
                max="360"
                value="0"
                class="hue-slider"
              />
            </div>

            <div class="slider-group">
              <label for="hueEnd">(Hue) End:</label>
              <input
                type="range"
                id="hueEnd"
                min="0"
                max="360"
                value="360"
                class="hue-slider"
              />
            </div>

            <div class="slider-group">
              <label for="saturation">S (saturation):</label>
              <input
                type="range"
                id="saturation"
                min="0"
                max="100"
                value="100"
                class="blue-slider"
              />
              <span id="saturationValue">100%</span>
            </div>

            <div class="slider-group">
              <label for="lightness">L (lightness):</label>
              <input
                type="range"
                id="lightness"
                min="0"
                max="100"
                value="50"
                class="blue-slider"
              />
              <span id="lightnessValue">100%</span>
            </div>

            <div class="button-group">
              <button id="applyHSL" class="apply-button">
                –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ HSL
              </button>
            </div>
          </div>
          <div class="navigation-buttons">
            <button id="prevButton">–ù–∞–∑–∞–¥</button>
            <button id="nextButton">–í–ø–µ—Ä–µ–¥</button>
            <button id="saveButton">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
          <!-- <button id="openCanvasesBtn">–í—ñ–¥–∫—Ä–∏—Ç–∏ –¥–≤—ñ –∫–∞–Ω–≤–∏</button> -->
        </aside>

        <div id="menu1" class="context-menu">
          <ul>
            <li onclick="clearCanvas('canvas1')">–í–∏–¥–∞–ª–∏—Ç–∏</li>
            <li onclick="navigateCanvas('canvas1')">–ü–µ—Ä–µ–π—Ç–∏</li>
            <li onclick="downloadCanvas('canvas1')">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</li>
          </ul>
        </div>

        <div id="menu2" class="context-menu">
          <ul>
            <li onclick="clearCanvas('canvas2')">–í–∏–¥–∞–ª–∏—Ç–∏</li>
            <li onclick="navigateCanvas('canvas2')">–ü–µ—Ä–µ–π—Ç–∏</li>
            <li onclick="downloadCanvas('canvas2')">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</li>
          </ul>
        </div>
      </div>
    </main>
  </body>
  <script></script>
  <script src="./transform.js"></script>
  <script src="./index.js"></script>
</html>
